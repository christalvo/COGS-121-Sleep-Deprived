<!DOCTYPE html>
<!-- HOMEPAGE -->
<html>
<!-- CSS -->
<link href="/css/bootstrap.css" rel="stylesheet">
<link href="/css/bootstrap.min.css" rel="stylesheet">
<link href="/css/bootstrap-theme.css" rel="stylesheet">
<link href="/css/bootstrap-theme.min.css" rel="stylesheet">
<link href="/css/style.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Abel" rel="stylesheet">
<script src="jquery-3.3.1.min.js"></script>
<style>

</style>

<title>Homepage</title>
<!-- BODY -->

<body>
  <div class="container">
<center><h1>Should I Really Be Watching Netflix Right Now?</h1><br>


<!-- CHOOSE A PROGRESS BAR TO SHOW !!! -->
  <div class="progress">
    <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="30"
    aria-valuemin="0" aria-novaluemax="100" style="width:30%">
      30% Play
    </div>
  </div>

  You <i>probably</i> <font color="green">should start</font> watching Netflix right now.<br>
  <i><font color="gray">No one is stopping you...</font></i><br><br>


  <div class="progress">
    <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="70"
    aria-valuemin="0" aria-valuemax="100" style="width:99%">
      99% Play
    </div>
  </div>
<!--'
  <div align="left">
    The website you've the most active on:
    <div class="dropdown">
<button onclick="myFunction()" class="dropbtn">Select Timeframe</button>
  <div id="myDropdown" class="dropdown-content">
    <a href="/data/PastHour">Past Hour</a>
    <a href="/data/Past2Hours">Past 2 Hours</a>
    <a href="/data/PastDay">Past 24 Hours</a>
  </div>
</div>
  </div>
-->


<div class="container">
<div class="panel panel-default">
  <div class="panel-heading">
<b>History</b>
  </div>
<div class="panel-body">
  The website you're most active on:
  <select onchange="dropdown(this);">
  <option value="PastHour">Past Hour</option>
  <option value="Past2Hours">Past 2 Hours</option>
  <option value="PastDay">Past 24 Hours</option>
</select><br><br>

  <b>Most Frequently Visited:</b><div id="most-freq"></div>
  <b>Second Most Frequently Visited:</b><div id="most-freq-2"></div>
</div>
</div>
</div>



<script type="text/javascript">

function dropdown(that) {
  const requestURL = 'data/' + that.value;
  console.log(requestURL);
  $.ajax ({
    url: requestURL,
    type: 'GET',
    dataType: 'json',
    success: (data) => {
        console.log('data:', data);
        console.log(data.firstSite);
        console.log(data.sndSite);
        $('#most-freq').html(data.firstSite);
        $('#most-freq-2').html(data.sndSite);
}
})
/*
  if (that.value == "PastHour")  {
    console.log("past hour");
    const requestURL = 'data/' + that.value;

    console.log(requestURL);
    $.ajax ({
      url: requestURL,
      type: 'GET',
      dataType: 'json',
      success: (data) => {
          console.log('data:', data);
          console.log(data.Most);
          console.log(data.SecMost);
          $('#most-freq').html(data.Most);
          $('#most-freq-2').html(data.SecMost);
  }
})
}
  if (that.value =="Past2Hours") {
    //alert("check");
    console.log("past2hours");

    const requestURL = 'data/' + that.value;

    console.log(requestURL);
    $.ajax ({
      url: requestURL,
      type: 'GET',
      dataType: 'json',
      success: (data) => {
          console.log('data:', data);
          console.log(data.Most);
          console.log(data.SecMost);
          $('#most-freq').html(data.Most);
          $('#most-freq-2').html(data.SecMost);
          //document.getElementById("ID").style.display = "block";
      }
    })
  }*/
}

</script>

<!-- end container -->
</div>
<center>
Why are you even here? Are you taking a break from Netflix?

<br>
<button type="button" class="btn btn-secondary"><a href="/index.html">Home</a><br></button>
<button type="button" class="btn btn-secondary"><a href="/settings.html">Settings</a></button>

</center>
</div>


</body>

<!-- JAVASCRIPT -->
<script type="text/javascript">

/* When the user clicks on the button,
toggle between hiding and showing the dropdown content */
function myFunction() {
    document.getElementById("myDropdown").classList.toggle("show");
}

// Close the dropdown if the user clicks outside of it
window.onclick = function(event) {
  if (!event.target.matches('.dropbtn')) {

    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}
</script>

</html>
